# Framework Integrations

Comprehensive guide for integrating REAL captcha with popular web frameworks and platforms.

## Overview

REAL captcha provides seamless integration with major web frameworks, content management systems, and e-commerce platforms. Each integration maintains the framework's conventions while providing robust bot protection.

## React

### Installation

```bash
npm install @realcatcha/react
# or
yarn add @realcatcha/react
```

### Basic Usage

```jsx
import React, { useState } from 'react';
import { RealCaptcha } from '@realcatcha/react';

const LoginForm = () => {
  const [captchaToken, setCaptchaToken] = useState(null);
  const [email, setEmail] = useState('');
  const [password, setPassword] = useState('');

  const handleSubmit = async (e) => {
    e.preventDefault();
    
    if (!captchaToken) {
      alert('Please complete the captcha');
      return;
    }

    try {
      const response = await fetch('/api/login', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ email, password, captchaToken })
      });
      
      if (response.ok) {
        console.log('Login successful');
      }
    } catch (error) {
      console.error('Login failed:', error);
    }
  };

  return (
    <form onSubmit={handleSubmit}>
      <input
        type="email"
        value={email}
        onChange={(e) => setEmail(e.target.value)}
        placeholder="Email"
        required
      />
      <input
        type="password"
        value={password}
        onChange={(e) => setPassword(e.target.value)}
        placeholder="Password"
        required
      />
      
      <RealCaptcha
        siteKey="YOUR_API_KEY_HERE"
        onSuccess={setCaptchaToken}
        onExpired={() => setCaptchaToken(null)}
        theme="light"
        size="normal"
      />
      
      <button type="submit">Login</button>
    </form>
  );
};
```

### Advanced Configuration

```jsx
<RealCaptcha
  siteKey="YOUR_API_KEY_HERE"
  onSuccess={setCaptchaToken}
  onExpired={() => setCaptchaToken(null)}
  onError={(error) => console.error('Captcha error:', error)}
  theme="dark"
  size="compact"
  language="ko"
  tabIndex={0}
  className="custom-captcha"
  style={{ margin: '20px 0' }}
/>
```

## Vue.js

### Installation

```bash
npm install @realcatcha/vue
# or
yarn add @realcatcha/vue
```

### Basic Usage

```vue
<template>
  <div>
    <form @submit.prevent="handleSubmit">
      <input v-model="email" type="email" placeholder="Email" required />
      <input v-model="password" type="password" placeholder="Password" required />
      
      <RealCaptcha
        :site-key="siteKey"
        @success="onCaptchaSuccess"
        @expired="onCaptchaExpired"
        @error="onCaptchaError"
      />
      
      <button type="submit">Login</button>
    </form>
  </div>
</template>

<script>
import { RealCaptcha } from '@realcatcha/vue';

export default {
  components: { RealCaptcha },
  data() {
    return {
      email: '',
      password: '',
      captchaToken: null,
      siteKey: 'YOUR_API_KEY_HERE'
    };
  },
  methods: {
    onCaptchaSuccess(token) {
      this.captchaToken = token;
    },
    onCaptchaExpired() {
      this.captchaToken = null;
    },
    onCaptchaError(error) {
      console.error('Captcha error:', error);
    },
    async handleSubmit() {
      if (!this.captchaToken) {
        alert('Please complete the captcha');
        return;
      }

      try {
        const response = await fetch('/api/login', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            email: this.email,
            password: this.password,
            captchaToken: this.captchaToken
          })
        });
        
        if (response.ok) {
          console.log('Login successful');
        }
      } catch (error) {
        console.error('Login failed:', error);
      }
    }
  }
};
</script>
```

## Angular

### Installation

```bash
npm install @realcatcha/angular
```

### Basic Usage

```typescript
import { Component } from '@angular/core';
import { RealCaptchaService } from '@realcatcha/angular';

@Component({
  selector: 'app-login',
  template: `
    <form (ngSubmit)="onSubmit()">
      <input [(ngModel)]="email" name="email" type="email" placeholder="Email" required />
      <input [(ngModel)]="password" name="password" type="password" placeholder="Password" required />
      
      <div #captchaContainer></div>
      
      <button type="submit">Login</button>
    </form>
  `
})
export class LoginComponent {
  email = '';
  password = '';
  captchaToken: string | null = null;

  constructor(private captchaService: RealCaptchaService) {}

  ngOnInit() {
    this.initCaptcha();
  }

  private initCaptcha() {
    this.captchaService.init({
      siteKey: 'YOUR_API_KEY_HERE',
      container: 'captchaContainer',
      onSuccess: (token: string) => {
        this.captchaToken = token;
      },
      onExpired: () => {
        this.captchaToken = null;
      }
    });
  }

  async onSubmit() {
    if (!this.captchaToken) {
      alert('Please complete the captcha');
      return;
    }

    try {
      const response = await fetch('/api/login', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          email: this.email,
          password: this.password,
          captchaToken: this.captchaToken
        })
      });
      
      if (response.ok) {
        console.log('Login successful');
      }
    } catch (error) {
      console.error('Login failed:', error);
    }
  }
}
```

## WordPress

### Plugin Installation

1. Download REAL Captcha plugin
2. Upload to `/wp-content/plugins/` directory
3. Activate plugin in WordPress admin
4. Configure API keys in Settings > REAL Captcha

### Basic Usage

```php
<?php
// Add captcha to login form
add_action('login_form', 'add_real_captcha_to_login');
function add_real_captcha_to_login() {
    echo do_shortcode('[real_captcha]');
}

// Verify captcha on login
add_filter('authenticate', 'verify_real_captcha', 10, 3);
function verify_real_captcha($user, $username, $password) {
    if (isset($_POST['real_captcha_token'])) {
        $token = $_POST['real_captcha_token'];
        $is_valid = verify_real_captcha_token($token);
        
        if (!$is_valid) {
            return new WP_Error('captcha_failed', 'Captcha verification failed');
        }
    }
    
    return $user;
}
?>
```

### Shortcode Options

```php
[real_captcha theme="light" size="normal" language="ko"]
```

## Shopify

### App Installation

1. Install REAL Captcha app from Shopify App Store
2. Configure API keys in app settings
3. Add captcha to checkout forms

### Liquid Template

```liquid
{% comment %} Add to checkout form {% endcomment %}
<div id="real-captcha-container"></div>

<script>
  window.REAL.init({
    siteKey: '{{ settings.real_captcha_site_key }}',
    container: '#real-captcha-container',
    callback: function(token) {
      // Add token to form
      document.querySelector('input[name="captcha_token"]').value = token;
    }
  });
</script>
```

## Laravel

### Installation

```bash
composer require realcatcha/laravel
```

### Service Provider

```php
// config/app.php
'providers' => [
    RealCaptcha\Laravel\RealCaptchaServiceProvider::class,
];

'aliases' => [
    'RealCaptcha' => RealCaptcha\Laravel\Facades\RealCaptcha::class,
];
```

### Basic Usage

```php
// Blade template
<form method="POST" action="/login">
    @csrf
    <input type="email" name="email" required />
    <input type="password" name="password" required />
    
    {!! RealCaptcha::render() !!}
    
    <button type="submit">Login</button>
</form>

// Controller
public function login(Request $request)
{
    $request->validate([
        'email' => 'required|email',
        'password' => 'required',
        'real_captcha_token' => 'required'
    ]);

    if (!RealCaptcha::verify($request->real_captcha_token)) {
        return back()->withErrors(['captcha' => 'Captcha verification failed']);
    }

    // Continue with login logic
}
```

## Django

### Installation

```bash
pip install django-realcaptcha
```

### Settings

```python
# settings.py
INSTALLED_APPS = [
    'realcaptcha',
]

REAL_CAPTCHA_SITE_KEY = 'your-site-key'
REAL_CAPTCHA_SECRET_KEY = 'your-secret-key'
```

### Basic Usage

```python
# forms.py
from django import forms
from realcaptcha.fields import RealCaptchaField

class LoginForm(forms.Form):
    email = forms.EmailField()
    password = forms.CharField(widget=forms.PasswordInput)
    captcha = RealCaptchaField()

# views.py
from django.shortcuts import render
from .forms import LoginForm

def login_view(request):
    if request.method == 'POST':
        form = LoginForm(request.POST)
        if form.is_valid():
            # Captcha is automatically verified
            # Continue with login logic
            pass
    else:
        form = LoginForm()
    
    return render(request, 'login.html', {'form': form})
```

## Express.js

### Installation

```bash
npm install @realcatcha/express
```

### Basic Usage

```javascript
const express = require('express');
const { verifyCaptcha } = require('@realcatcha/express');

const app = express();

app.post('/login', verifyCaptcha, async (req, res) => {
  // Captcha is already verified by middleware
  const { email, password } = req.body;
  
  // Continue with login logic
  res.json({ success: true });
});
```

## Common Integration Patterns

### 1. Form Integration
- Place captcha above submit buttons
- Validate captcha before form submission
- Handle captcha expiration gracefully

### 2. AJAX Integration
- Verify captcha on server before processing
- Return appropriate error messages
- Reset captcha on failure

### 3. Multi-step Forms
- Verify captcha on final step
- Maintain captcha state across steps
- Handle back/forward navigation

### 4. Dynamic Content
- Reinitialize captcha after content changes
- Handle container element updates
- Maintain captcha state

## Best Practices

1. **Accessibility**: Ensure captcha is accessible to all users
2. **Mobile Optimization**: Test on various mobile devices
3. **Error Handling**: Provide clear feedback on failures
4. **Performance**: Lazy load captcha when needed
5. **Security**: Always verify on server side

## Troubleshooting

### Common Issues

1. **Widget Not Loading**: Check API key and network
2. **Verification Fails**: Verify secret key configuration
3. **Styling Conflicts**: Use CSS isolation techniques
4. **Framework Conflicts**: Check for JavaScript conflicts

### Support Resources

- Framework-specific documentation
- Sample projects and demos
- Community forums and discussions
- Technical support channels

Each framework integration maintains the same security standards while following platform-specific conventions and best practices. 