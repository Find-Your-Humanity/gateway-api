# RealCaptcha ë°ì´í„°ë² ì´ìŠ¤ ì •ë¦¬ ê°€ì´ë“œ

## ğŸ“‹ ê°œìš”
RealCaptcha í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” í…Œì´ë¸”ë“¤ì„ ì •ë¦¬í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡°ë¥¼ ìµœì í™”í•©ë‹ˆë‹¤.

## ğŸ—‘ï¸ ì œê±° ëŒ€ìƒ í…Œì´ë¸”ë“¤

### 1. `user_sessions` í…Œì´ë¸”
- **ì œê±° ì´ìœ **: JWT ê¸°ë°˜ ì¸ì¦ìœ¼ë¡œ ëŒ€ì²´ë¨
- **ëŒ€ì²´ í…Œì´ë¸”**: `refresh_tokens`
- **ìƒíƒœ**: ì‚¬ìš© ì•ˆí•¨
- **ì˜í–¥**: ì—†ìŒ (ì´ë¯¸ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ)

### 2. `popup_settings` í…Œì´ë¸”
- **ì œê±° ì´ìœ **: ì°¸ì¡°í•˜ëŠ” `notices` í…Œì´ë¸”ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŒ
- **ìƒíƒœ**: ì‚¬ìš© ì•ˆí•¨
- **ì˜í–¥**: ì—†ìŒ (ì´ë¯¸ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ)

### 3. `notices` í…Œì´ë¸”
- **ì œê±° ì´ìœ **: ì‹¤ì œë¡œ ì¡´ì¬í•˜ì§€ ì•ŠìŒ (ì°¸ì¡°ë§Œ ë¨)
- **ìƒíƒœ**: ì¡´ì¬í•˜ì§€ ì•ŠìŒ
- **ì˜í–¥**: ì—†ìŒ

## âœ… ì‚¬ìš© ì¤‘ì¸ í…Œì´ë¸”ë“¤

### í•µì‹¬ ì‚¬ìš©ì/ì¸ì¦ í…Œì´ë¸”
- `users` - ì‚¬ìš©ì ì •ë³´
- `api_keys` - API í‚¤ ê´€ë¦¬
- `refresh_tokens` - JWT ë¦¬í”„ë ˆì‹œ í† í°
- `password_reset_tokens` - ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì •
- `password_reset_codes` - ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • ì½”ë“œ
- `email_verification_codes` - ì´ë©”ì¼ ì¸ì¦

### ìš”ì²­ ë¡œê·¸ í…Œì´ë¸”
- `request_logs` - API ìš”ì²­ ë¡œê·¸ (gateway-api)
- `api_request_logs` - API ìš”ì²­ ë¡œê·¸ (captcha-api)

### ìº¡ì°¨ ê´€ë ¨ í…Œì´ë¸”
- `captcha_tokens` - ìº¡ì°¨ í† í° ê´€ë¦¬

### í†µê³„/ì‚¬ìš©ëŸ‰ ì¶”ì  í…Œì´ë¸”
- `daily_api_stats` - ì¼ë³„ API í†µê³„
- `daily_api_stats_by_key` - API í‚¤ë³„ ì¼ë³„ í†µê³„
- `daily_user_api_stats` - ì‚¬ìš©ìë³„ ì¼ë³„ í†µê³„
- `api_key_usage` - API í‚¤ ì‚¬ìš©ëŸ‰
- `user_usage_summary` - ì‚¬ìš©ì ì‚¬ìš©ëŸ‰ ìš”ì•½
- `user_usage_tracking` - ì‚¬ìš©ì ì‚¬ìš©ëŸ‰ ì¶”ì 

### ìš”ê¸ˆì œ/ê²°ì œ í…Œì´ë¸”
- `plans` - ìš”ê¸ˆì œ ì •ë³´
- `user_subscriptions` - ì‚¬ìš©ì êµ¬ë… ì •ë³´
- `payment_logs` - ê²°ì œ ë¡œê·¸

### ë¬¸ì˜/ê³ ê°ì§€ì› í…Œì´ë¸”
- `contact_requests` - ë¬¸ì˜ì‚¬í•­

### ì‹œìŠ¤í…œ í†µê³„ í…Œì´ë¸”
- `request_statistics` - ìš”ì²­ í†µê³„
- `error_stats_daily` - ì¼ë³„ ì—ëŸ¬ í†µê³„
- `endpoint_usage_daily` - ì—”ë“œí¬ì¸íŠ¸ë³„ ì¼ë³„ ì‚¬ìš©ëŸ‰

## ğŸš€ ì‹¤í–‰ ë°©ë²•

### 1. ë°±ì—… ìƒì„± (ê¶Œì¥)
```bash
mysqldump -h [HOST] -P [PORT] -u [USER] -p captcha > captcha_backup_$(date +%Y%m%d_%H%M%S).sql
```

### 2. ì •ë¦¬ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
```bash
mysql -h [HOST] -P [PORT] -u [USER] -p < cleanup_unused_tables.sql
```

### 3. ê²°ê³¼ í™•ì¸
```sql
USE captcha;
SHOW TABLES;
```

## âš ï¸ ì£¼ì˜ì‚¬í•­

1. **ë°±ì—… í•„ìˆ˜**: ì •ë¦¬ ì‘ì—… ì „ ë°˜ë“œì‹œ ë°ì´í„°ë² ì´ìŠ¤ ë°±ì—…ì„ ìƒì„±í•˜ì„¸ìš”.
2. **í…ŒìŠ¤íŠ¸ í™˜ê²½**: í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ ì‹¤í–‰í•˜ê¸° ì „ì— í…ŒìŠ¤íŠ¸ í™˜ê²½ì—ì„œ ë¨¼ì € ì‹¤í–‰í•˜ì„¸ìš”.
3. **ì˜ì¡´ì„± í™•ì¸**: ë‹¤ë¥¸ í…Œì´ë¸”ì—ì„œ ì°¸ì¡°í•˜ëŠ” ì™¸ë˜í‚¤ê°€ ìˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”.

## ğŸ“Š ì •ë¦¬ í›„ ì˜ˆìƒ íš¨ê³¼

- **ë°ì´í„°ë² ì´ìŠ¤ í¬ê¸° ê°ì†Œ**: ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” í…Œì´ë¸” ì œê±°ë¡œ ìŠ¤í† ë¦¬ì§€ ì ˆì•½
- **ì„±ëŠ¥ í–¥ìƒ**: ë¶ˆí•„ìš”í•œ í…Œì´ë¸” ìŠ¤ìº” ì œê±°
- **ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ**: ëª…í™•í•œ í…Œì´ë¸” êµ¬ì¡°ë¡œ ê´€ë¦¬ ìš©ì´
- **ë³´ì•ˆ ê°•í™”**: ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” í…Œì´ë¸” ì œê±°ë¡œ ê³µê²© í‘œë©´ ê°ì†Œ

## ğŸ”„ ë¡¤ë°± ë°©ë²•

ì •ë¦¬ ì‘ì—… í›„ ë¬¸ì œê°€ ë°œìƒí•œ ê²½ìš°:

```bash
# ë°±ì—… íŒŒì¼ë¡œ ë³µì›
mysql -h [HOST] -P [PORT] -u [USER] -p captcha < captcha_backup_YYYYMMDD_HHMMSS.sql
```

## ğŸ“ ë³€ê²½ ì´ë ¥

- **2024-01-XX**: ì´ˆê¸° ì •ë¦¬ ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±
- **2024-01-XX**: ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” í…Œì´ë¸” ì‹ë³„ ë° ì •ë¦¬ ê³„íš ìˆ˜ë¦½
